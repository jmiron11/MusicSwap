var gooseHandler = require('gooseHandler')

// handling socket connections
exports.handleConnection = function(socket) {
    console.log('A user has connected to the server')


    socket.on('new_connect', function(username){
        gooseHandler.updateSocketId(username, socket.id)
    })


    socket.on('update_profile', function(profile){
        gooseHandler.addProfile(profile)
    })

    socket.on('update_matches', function(username){
        gooseHandler.updateMatches(username)
    })


    //WORKING updateSocketID, addProfile, updateMatches
    //NOTWORKING requestMatches (simply return from matches collection and emit back)



    socket.on('request_matches', function(username){
        console.log('request_match received')
        gooseHandler.returnMatches(username, socket)
    })

    socket.on('disconnect', function(){
        console.log('A user has disconnected from the server')
    })
}
